@model IEnumerable<SaleManagement.Core.Models.Reconciliation>
@using Dickson.Core.Common.Extensions;
@using SaleManagement.Core.Models;
@{
    Title("对账");
    Layout = "~/Views/Shared/_customerLayout.cshtml";
}
<style type="text/css">
    .total {
        height: 100px;
    }

        .total .fee {
            height: 100px;
            border: 1px solid #0094ff;
            font-size: 16px;
            font-weight: bold;
        }

    .fee span {
        padding: 20px 0px;
        display: block;
    }
</style>
<div>
    <ul class="breadcrumb">
        <li>
            <a href="/customer/home/index">首页</a>
        </li>
        <li>
            <a href="/customer/Reconciliation/list">对账单</a>
        </li>
    </ul>
</div>

<div class="row total">
    <div class="col-md-2 col-xs-2">
    </div>
    <div class="col-md-4 col-xs-4 text-center fee">
        <span>应付</span>
        <div>@(Model.Where(r=>r.Type == ReconciliationType.Arrearage).Sum(r=>r.Amount)) 元</div>
    </div>
    <div class="col-md-4 col-xs-4 text-center fee">
        <span>已付</span>
        <div>@(Model.Where(r => r.Type == ReconciliationType.Payment).Sum(r => r.Amount)) 元</div>
    </div>
    <div class="col-md-2 col-xs-2">
    </div>
</div>
<div class="row">
    <div class="box col-md-12">
        @if (Model.Any())
        {
        <table class="table table-striped table-bordered bootstrap-datatable  responsive">
            <thead>
                <tr>
                    <th>日期</th>
                    <th>付/欠款</th>
                    <th>金额(元)</th>
                </tr>
            </thead>
            <tbody id="tbody" data-bind="foreach:reconciliations">
                @foreach (var item in Model)
                    {
                    <tr>
                        <td>@item.Created.ToShortDateString()</td>
                        <td>@item.Type.GetDisplayName()</td>
                        <td>@item.Amount</td>
                    </tr>
                    }
            </tbody>
        </table>
        }
        else
        {
        <div class="center">暂无数据</div>
        }
    </div>
</div><!--/row-->
